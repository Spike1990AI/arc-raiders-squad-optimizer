<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arc Raiders - Squad Optimizer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #fff;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .player-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .player-btn {
            padding: 15px 40px;
            font-size: 1.1em;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .player-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .player-btn.active {
            background: #4CAF50;
            border-color: #4CAF50;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
        }

        .priority-banner {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .priority-banner h2 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .priority-banner p {
            font-size: 1.1em;
            line-height: 1.6;
        }

        .workstation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .workstation-card {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
        }

        .workstation-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .workstation-card.keystone {
            border: 3px solid #FFD700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .keystone-badge {
            display: inline-block;
            background: #FFD700;
            color: #000;
            padding: 5px 12px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.9em;
            margin-left: 10px;
        }

        .workstation-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .workstation-title {
            font-size: 1.5em;
            font-weight: bold;
        }

        .level-indicator {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: bold;
        }

        .upgrade-section {
            margin-top: 15px;
        }

        .next-upgrade {
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid #4CAF50;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
        }

        .next-upgrade h4 {
            color: #4CAF50;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .requirements-list {
            list-style: none;
            margin-top: 10px;
        }

        .requirement-item {
            display: flex;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            border-left: 4px solid transparent;
        }

        .requirement-item.farm {
            border-left-color: #ff9800;
        }

        .requirement-item.craft {
            border-left-color: #4CAF50;
        }

        .requirement-item.buy {
            border-left-color: #2196F3;
        }

        .item-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
        }

        .item-details {
            flex: 1;
        }

        .item-name {
            font-weight: bold;
            font-size: 1.1em;
        }

        .item-quantity {
            color: #FFD700;
            font-weight: bold;
            margin-left: 5px;
        }

        .item-source {
            font-size: 0.9em;
            opacity: 0.8;
            margin-top: 3px;
        }

        .type-badge {
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.85em;
            font-weight: bold;
            margin-left: 10px;
        }

        .type-badge.farm {
            background: #ff9800;
            color: #000;
        }

        .type-badge.craft {
            background: #4CAF50;
            color: #fff;
        }

        .type-badge.buy {
            background: #2196F3;
            color: #fff;
        }

        .warning-banner {
            background: rgba(255, 152, 0, 0.2);
            border: 2px solid #ff9800;
            border-radius: 5px;
            padding: 10px;
            margin-top: 10px;
        }

        .warning-banner.danger {
            background: rgba(244, 67, 54, 0.2);
            border-color: #f44336;
        }

        .cross-ref-warning {
            font-size: 0.95em;
            margin-top: 5px;
        }

        .cross-ref-warning strong {
            color: #FFD700;
        }

        .unlocks-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        .unlocks-section h5 {
            color: #4CAF50;
            margin-bottom: 8px;
        }

        .unlocks-list {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .unlock-item {
            background: rgba(76, 175, 80, 0.2);
            padding: 5px 12px;
            border-radius: 5px;
            font-size: 0.9em;
            border: 1px solid #4CAF50;
        }

        .legend {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
        }

        .legend h3 {
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .legend-badge {
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.9em;
            white-space: nowrap;
        }

        .max-level {
            opacity: 0.6;
        }

        .max-level-badge {
            background: #4CAF50;
            color: #fff;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: bold;
            text-align: center;
            margin-top: 10px;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            font-size: 0.9em;
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .workstation-grid {
                grid-template-columns: 1fr;
            }

            .player-selector {
                flex-direction: column;
            }

            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‚öîÔ∏è Arc Raiders - Squad Optimizer</h1>
            <p class="subtitle">Smart Workshop Upgrade Planning with Cross-Reference Protection</p>
        </header>

        <div class="player-selector">
            <button class="player-btn" data-player="steve">Steve</button>
            <button class="player-btn" data-player="alf">Alf</button>
            <button class="player-btn" data-player="indie">Indie</button>
        </div>

        <div id="priority-message"></div>

        <div id="workstations"></div>

        <div class="legend">
            <h3>üìã Material Types Guide</h3>
            <div class="legend-grid">
                <div class="legend-item">
                    <span class="legend-badge" style="background: #ff9800; color: #000;">üåæ FARM</span>
                    <span>Must loot or kill enemies</span>
                </div>
                <div class="legend-item">
                    <span class="legend-badge" style="background: #4CAF50; color: #fff;">‚úÖ CRAFT</span>
                    <span>Make at Refiner station</span>
                </div>
                <div class="legend-item">
                    <span class="legend-badge" style="background: #2196F3; color: #fff;">üí∞ BUY</span>
                    <span>Purchase from Celeste</span>
                </div>
                <div class="legend-item">
                    <span class="legend-badge" style="background: #FFD700; color: #000;">üîë KEYSTONE</span>
                    <span>Unlocks crafting for others</span>
                </div>
            </div>
        </div>

        <footer>
            <p><strong>Data Sources:</strong> Arc Raiders Wiki | ARDB Tools | GAM3S.GG</p>
            <p>Made for Steve, Alf & Indie | v1.0</p>
        </footer>
    </div>

    <script id="game-data" type="application/json">
        {
  "workstations": {
    "gunsmith": {
      "name": "Gunsmith",
      "icon": "gunsmith.png",
      "levels": [
        {
          "level": 1,
          "requirements": [
            {
              "item": "Metal Parts",
              "quantity": 20,
              "type": "farm"
            },
            {
              "item": "Rubber Parts",
              "quantity": 30,
              "type": "farm"
            }
          ],
          "unlocks": [
            "Basic weapons"
          ]
        },
        {
          "level": 2,
          "requirements": [
            {
              "item": "Rusted Tools",
              "quantity": 3,
              "type": "farm",
              "source": "Mechanical POIs"
            },
            {
              "item": "Mechanical Components",
              "quantity": 5,
              "type": "craft",
              "craftAt": "Refiner Lv1"
            },
            {
              "item": "Wasp Driver",
              "quantity": 8,
              "type": "farm",
              "source": "Kill Wasps"
            }
          ],
          "unlocks": [
            "Better weapons"
          ]
        },
        {
          "level": 3,
          "requirements": [
            {
              "item": "Rusted Gear",
              "quantity": 3,
              "type": "farm",
              "source": "Mechanical POIs"
            },
            {
              "item": "Advanced Mechanical Components",
              "quantity": 5,
              "type": "craft",
              "craftAt": "Refiner Lv2"
            },
            {
              "item": "Sentinel Firing Core",
              "quantity": 4,
              "type": "farm",
              "source": "Kill Sentinels"
            }
          ],
          "unlocks": [
            "Bettina",
            "Renegade",
            "Hullcracker"
          ]
        }
      ]
    },
    "gearBench": {
      "name": "Gear Bench",
      "icon": "gear-bench.png",
      "levels": [
        {
          "level": 1,
          "requirements": [
            {
              "item": "Plastic Parts",
              "quantity": 25,
              "type": "farm"
            },
            {
              "item": "Fabric",
              "quantity": 30,
              "type": "farm"
            }
          ],
          "unlocks": [
            "Light/Medium Shield",
            "Combat/Looting/Tactical Mk.1"
          ]
        },
        {
          "level": 2,
          "requirements": [
            {
              "item": "Power Cable",
              "quantity": 3,
              "type": "farm",
              "source": "Mechanical POIs"
            },
            {
              "item": "Electrical Components",
              "quantity": 5,
              "type": "craft",
              "craftAt": "Refiner Lv1"
            },
            {
              "item": "Hornet Driver",
              "quantity": 5,
              "type": "farm",
              "source": "Kill Hornets"
            }
          ],
          "unlocks": [
            "Heavy Shield",
            "Mk.2 augments"
          ]
        },
        {
          "level": 3,
          "requirements": [
            {
              "item": "Industrial Battery",
              "quantity": 3,
              "type": "farm",
              "source": "Loot containers"
            },
            {
              "item": "Advanced Electrical Components",
              "quantity": 5,
              "type": "craft",
              "craftAt": "Refiner Lv2"
            },
            {
              "item": "Bastion Cell",
              "quantity": 6,
              "type": "farm",
              "source": "Kill Bastions"
            }
          ],
          "unlocks": [
            "Looting Mk.3 (Cautious)"
          ]
        }
      ]
    },
    "medicalLab": {
      "name": "Medical Lab",
      "icon": "medical-lab.png",
      "levels": [
        {
          "level": 1,
          "requirements": [
            {
              "item": "Fabric",
              "quantity": 50,
              "type": "farm"
            },
            {
              "item": "ARC Alloy",
              "quantity": 6,
              "type": "farm"
            }
          ],
          "unlocks": [
            "Herbal Bandage",
            "Shield Recharger",
            "Adrenaline Shot",
            "Bandage"
          ]
        },
        {
          "level": 2,
          "requirements": [
            {
              "item": "Cracked Bioscanner",
              "quantity": 2,
              "type": "farm",
              "source": "Loot containers"
            },
            {
              "item": "Durable Cloth",
              "quantity": 5,
              "type": "craft",
              "craftAt": "Refiner Lv1"
            },
            {
              "item": "Tick Pod",
              "quantity": 8,
              "type": "farm",
              "source": "Kill Ticks"
            }
          ],
          "unlocks": [
            "Sterilized Bandage",
            "Surge Shield Recharger"
          ]
        },
        {
          "level": 3,
          "requirements": [
            {
              "item": "Rusted Shut Medical Kit",
              "quantity": 3,
              "type": "farm",
              "source": "Loot containers"
            },
            {
              "item": "Antiseptic",
              "quantity": 8,
              "type": "craft",
              "craftAt": "Refiner Lv2"
            },
            {
              "item": "Surveyor Vault",
              "quantity": 5,
              "type": "farm",
              "source": "Kill Surveyors"
            }
          ],
          "unlocks": [
            "Vita Spray"
          ]
        }
      ]
    },
    "explosives": {
      "name": "Explosives Station",
      "icon": "explosives.png",
      "levels": [
        {
          "level": 1,
          "requirements": [
            {
              "item": "Chemicals",
              "quantity": 50,
              "type": "farm"
            },
            {
              "item": "ARC Alloy",
              "quantity": 6,
              "type": "farm"
            }
          ],
          "unlocks": [
            "Gas Grenade",
            "Light Impact Grenade"
          ]
        },
        {
          "level": 2,
          "requirements": [
            {
              "item": "Synthesized Fuel",
              "quantity": 3,
              "type": "buy",
              "seedCost": 14
            },
            {
              "item": "Crude Explosives",
              "quantity": 5,
              "type": "craft",
              "craftAt": "Refiner Lv1"
            },
            {
              "item": "Pop Trigger",
              "quantity": 5,
              "type": "farm",
              "source": "Kill Pops"
            }
          ],
          "unlocks": [
            "Blaze Grenade"
          ]
        },
        {
          "level": 3,
          "requirements": [
            {
              "item": "Laboratory Reagents",
              "quantity": 3,
              "type": "farm",
              "source": "Loot containers"
            },
            {
              "item": "Explosive Compound",
              "quantity": 5,
              "type": "farm",
              "source": "Loot containers"
            },
            {
              "item": "Rocketeer Driver",
              "quantity": 3,
              "type": "farm",
              "source": "Kill Rocketeers"
            }
          ],
          "unlocks": [
            "Heavy Fuze Grenade",
            "Wolfpack"
          ]
        }
      ]
    },
    "utility": {
      "name": "Utility Station",
      "icon": "utility.png",
      "levels": [
        {
          "level": 1,
          "requirements": [
            {
              "item": "Plastic Parts",
              "quantity": 50,
              "type": "farm"
            },
            {
              "item": "ARC Alloy",
              "quantity": 6,
              "type": "farm"
            }
          ],
          "unlocks": [
            "Barricade Kit",
            "Binoculars",
            "Door Blocker",
            "Remote Raider Flare",
            "Smoke Grenade"
          ]
        },
        {
          "level": 2,
          "requirements": [
            {
              "item": "Damaged Heat Sink",
              "quantity": 2,
              "type": "farm",
              "source": "Loot containers"
            },
            {
              "item": "Electrical Components",
              "quantity": 5,
              "type": "craft",
              "craftAt": "Refiner Lv1"
            },
            {
              "item": "Snitch Scanner",
              "quantity": 6,
              "type": "farm",
              "source": "Kill Snitches"
            }
          ],
          "unlocks": [
            "Lure Grenade",
            "Zipline"
          ]
        },
        {
          "level": 3,
          "requirements": [
            {
              "item": "Fried Motherboard",
              "quantity": 3,
              "type": "farm",
              "source": "Loot containers"
            },
            {
              "item": "Advanced Electrical Components",
              "quantity": 5,
              "type": "craft",
              "craftAt": "Refiner Lv2"
            },
            {
              "item": "Leaper Pulse Unit",
              "quantity": 4,
              "type": "farm",
              "source": "Kill Leapers (Bisons)"
            }
          ],
          "unlocks": [
            "Photoelectric Cloak",
            "Snap Hook",
            "Tagging Grenade"
          ]
        }
      ]
    },
    "refiner": {
      "name": "Refiner",
      "icon": "refiner.png",
      "keystone": true,
      "levels": [
        {
          "level": 1,
          "requirements": [
            {
              "item": "Metal Parts",
              "quantity": 60,
              "type": "farm",
              "note": "NEEDS VERIFICATION"
            },
            {
              "item": "ARC Powercell",
              "quantity": 5,
              "type": "farm",
              "note": "NEEDS VERIFICATION"
            }
          ],
          "unlocks": [
            "Mechanical Components",
            "Electrical Components",
            "Crude Explosives",
            "Durable Cloth"
          ]
        },
        {
          "level": 2,
          "requirements": [
            {
              "item": "Toaster",
              "quantity": 3,
              "type": "farm",
              "source": "Mechanical POIs"
            },
            {
              "item": "ARC Motion Core",
              "quantity": 5,
              "type": "farm",
              "source": "Kill Surveyors/Probes"
            },
            {
              "item": "Fireball Burner",
              "quantity": 8,
              "type": "farm",
              "source": "Kill Fireballs"
            }
          ],
          "unlocks": [
            "Advanced Mechanical Components",
            "Advanced Electrical Components",
            "Antiseptic",
            "ARC Circuitry"
          ]
        },
        {
          "level": 3,
          "requirements": [
            {
              "item": "Motor",
              "quantity": 3,
              "type": "farm",
              "source": "Loot containers"
            },
            {
              "item": "ARC Circuitry",
              "quantity": 10,
              "type": "craft",
              "craftAt": "Refiner Lv2"
            },
            {
              "item": "Bombardier Cell",
              "quantity": 6,
              "type": "farm",
              "source": "Kill Bombardiers"
            }
          ],
          "unlocks": [
            "Magnetic Accelerator",
            "Mod Components",
            "Power Rod"
          ]
        }
      ]
    },
    "scrappy": {
      "name": "Scrappy (The Rooster)",
      "icon": "scrappy.png",
      "levels": [
        {
          "level": 2,
          "name": "Forager",
          "requirements": [
            {
              "item": "Dog Collar",
              "quantity": 1,
              "type": "farm",
              "source": "Residential areas"
            }
          ],
          "unlocks": [
            "Increased resource collection"
          ]
        },
        {
          "level": 3,
          "name": "Scavenger",
          "requirements": [
            {
              "item": "Lemon",
              "quantity": 3,
              "type": "farm",
              "source": "Kick trees (Blue Gate NW Village)"
            },
            {
              "item": "Apricot",
              "quantity": 3,
              "type": "farm",
              "source": "Kick trees (Blue Gate NW Village)"
            }
          ],
          "unlocks": [
            "+Chemicals",
            "+Rubber Parts to drops"
          ]
        },
        {
          "level": 4,
          "name": "Treasure Hunter",
          "requirements": [
            {
              "item": "Prickly Pear",
              "quantity": 6,
              "type": "farm",
              "source": "Ground spawn"
            },
            {
              "item": "Olive",
              "quantity": 6,
              "type": "farm",
              "source": "Kick trees (Blue Gate Olive Grove)"
            },
            {
              "item": "Cat Bed",
              "quantity": 1,
              "type": "farm",
              "source": "Residential areas"
            }
          ],
          "unlocks": [
            "Improved haul rate"
          ]
        },
        {
          "level": 5,
          "name": "Master Hoarder",
          "requirements": [
            {
              "item": "Olive",
              "quantity": 6,
              "type": "farm",
              "source": "Kick trees (Blue Gate Olive Grove)"
            },
            {
              "item": "Mushroom",
              "quantity": 6,
              "type": "farm",
              "source": "Ground spawn"
            },
            {
              "item": "Very Comfortable Pillow",
              "quantity": 3,
              "type": "farm",
              "source": "Residential areas"
            }
          ],
          "unlocks": [
            "Maximum resource capacity"
          ]
        }
      ]
    }
  },
  "refinerRecipes": {
    "level1": [
      {
        "output": "Mechanical Components",
        "ingredients": [
          {
            "item": "Metal Parts",
            "quantity": 7
          },
          {
            "item": "Rubber Parts",
            "quantity": 3
          }
        ]
      },
      {
        "output": "Electrical Components",
        "ingredients": [
          {
            "item": "Plastic Parts",
            "quantity": 8
          },
          {
            "item": "Rubber Parts",
            "quantity": 4
          }
        ]
      },
      {
        "output": "Crude Explosives",
        "ingredients": [
          {
            "item": "Chemicals",
            "quantity": "TBD"
          }
        ]
      },
      {
        "output": "Durable Cloth",
        "ingredients": [
          {
            "item": "Fabric",
            "quantity": "TBD"
          }
        ]
      }
    ],
    "level2": [
      {
        "output": "Advanced Mechanical Components",
        "ingredients": [
          {
            "item": "Mechanical Components",
            "quantity": "TBD"
          },
          {
            "item": "ARC Alloy",
            "quantity": "TBD"
          }
        ]
      },
      {
        "output": "Advanced Electrical Components",
        "ingredients": [
          {
            "item": "Electrical Components",
            "quantity": "TBD"
          },
          {
            "item": "ARC Alloy",
            "quantity": "TBD"
          }
        ]
      },
      {
        "output": "Antiseptic",
        "ingredients": [
          {
            "item": "Chemicals",
            "quantity": "TBD"
          },
          {
            "item": "Durable Cloth",
            "quantity": "TBD"
          }
        ]
      },
      {
        "output": "ARC Circuitry",
        "ingredients": [
          {
            "item": "ARC Powercell",
            "quantity": "TBD"
          },
          {
            "item": "Electrical Components",
            "quantity": "TBD"
          }
        ]
      },
      {
        "output": "Heavy Gun Parts",
        "ingredients": [
          {
            "item": "Simple Gun Parts",
            "quantity": 4
          }
        ]
      }
    ],
    "level3": [
      {
        "output": "Magnetic Accelerator",
        "ingredients": [
          {
            "item": "TBD",
            "quantity": "TBD"
          }
        ]
      },
      {
        "output": "Mod Components",
        "ingredients": [
          {
            "item": "TBD",
            "quantity": "TBD"
          }
        ]
      },
      {
        "output": "Power Rod",
        "ingredients": [
          {
            "item": "TBD",
            "quantity": "TBD"
          }
        ]
      }
    ]
  },
  "celesteShop": {
    "basicMaterials": [
      {
        "item": "Chemicals",
        "seeds": 1,
        "stock": "unlimited"
      },
      {
        "item": "Fabric",
        "seeds": 1,
        "stock": "unlimited"
      },
      {
        "item": "Metal Parts",
        "seeds": 1,
        "stock": "unlimited"
      },
      {
        "item": "Plastic Parts",
        "seeds": 1,
        "stock": "unlimited"
      },
      {
        "item": "Rubber Parts",
        "seeds": 1,
        "stock": "unlimited"
      }
    ],
    "commonMaterials": [
      {
        "item": "Wires",
        "seeds": 4,
        "stock": 10
      },
      {
        "item": "Battery",
        "seeds": 5,
        "stock": 10
      },
      {
        "item": "Great Mullein",
        "seeds": 5,
        "stock": 10
      },
      {
        "item": "Canister",
        "seeds": 6,
        "stock": 10
      },
      {
        "item": "Duct Tape",
        "seeds": 6,
        "stock": 10
      },
      {
        "item": "Magnet",
        "seeds": 6,
        "stock": 10
      },
      {
        "item": "Oil",
        "seeds": 6,
        "stock": 10
      },
      {
        "item": "Steel Spring",
        "seeds": 6,
        "stock": 10,
        "helpsWith": "Craft Mechanical Components at Refiner"
      }
    ],
    "midTier": [
      {
        "item": "Simple Gun Parts",
        "seeds": 7,
        "stock": 5,
        "helpsWith": "Weapon upgrades"
      },
      {
        "item": "Moss",
        "seeds": 10,
        "stock": 5
      },
      {
        "item": "Processor",
        "seeds": 10,
        "stock": 5,
        "helpsWith": "Mk.3 augments"
      },
      {
        "item": "Rope",
        "seeds": 10,
        "stock": 5
      },
      {
        "item": "Sensors",
        "seeds": 10,
        "stock": 5,
        "helpsWith": "Raider Keys, Wolfpack blueprints"
      },
      {
        "item": "Speaker Component",
        "seeds": 10,
        "stock": 5
      },
      {
        "item": "Syringe",
        "seeds": 10,
        "stock": 5
      },
      {
        "item": "Voltage Converter",
        "seeds": 10,
        "stock": 5
      },
      {
        "item": "Synthesized Fuel",
        "seeds": 14,
        "stock": 5,
        "helpsWith": "Explosives Lv2 (need 3)"
      }
    ],
    "gunParts": [
      {
        "item": "Light Gun Parts",
        "seeds": 15,
        "stock": 3
      },
      {
        "item": "Medium Gun Parts",
        "seeds": 15,
        "stock": 3
      },
      {
        "item": "Heavy Gun Parts",
        "seeds": 15,
        "stock": 3
      }
    ],
    "premium": [
      {
        "item": "Exodus Modules",
        "seeds": 55,
        "stock": 1,
        "helpsWith": "High-tier weapon blueprints"
      },
      {
        "item": "Complex Gun Parts",
        "seeds": 60,
        "stock": 1,
        "helpsWith": "Premium weapon blueprints"
      }
    ]
  },
  "crossReferences": {
    "multipleUse": [
      {
        "material": "Electrical Components",
        "usedBy": [
          "Gear Bench Lv2 (5)",
          "Utility Lv2 (5)"
        ],
        "totalNeeded": 10,
        "canCraft": true,
        "craftAt": "Refiner Lv1"
      },
      {
        "material": "Advanced Electrical Components",
        "usedBy": [
          "Gear Bench Lv3 (5)",
          "Utility Lv3 (5)"
        ],
        "totalNeeded": 10,
        "canCraft": true,
        "craftAt": "Refiner Lv2"
      },
      {
        "material": "ARC Alloy",
        "usedBy": [
          "Medical Lv1 (6)",
          "Explosives Lv1 (6)",
          "Utility Lv1 (6)"
        ],
        "totalNeeded": 18,
        "canCraft": false
      },
      {
        "material": "Fabric",
        "usedBy": [
          "Medical Lv1 (50)",
          "Gear Bench Lv1 (30)"
        ],
        "totalNeeded": 80,
        "canCraft": false
      },
      {
        "material": "Plastic Parts",
        "usedBy": [
          "Utility Lv1 (50)",
          "Gear Bench Lv1 (25)"
        ],
        "totalNeeded": 75,
        "canCraft": false
      }
    ]
  },
  "dependencyChains": {
    "refinerLv1": {
      "unlocks": [
        {
          "material": "Mechanical Components",
          "enables": "Gunsmith Lv2"
        },
        {
          "material": "Electrical Components",
          "enables": "Gear Bench Lv2, Utility Lv2"
        },
        {
          "material": "Crude Explosives",
          "enables": "Explosives Lv2"
        },
        {
          "material": "Durable Cloth",
          "enables": "Medical Lv2"
        }
      ]
    },
    "refinerLv2": {
      "unlocks": [
        {
          "material": "Advanced Mechanical Components",
          "enables": "Gunsmith Lv3"
        },
        {
          "material": "Advanced Electrical Components",
          "enables": "Gear Bench Lv3, Utility Lv3"
        },
        {
          "material": "Antiseptic",
          "enables": "Medical Lv3"
        },
        {
          "material": "ARC Circuitry",
          "enables": "Refiner Lv3"
        }
      ]
    }
  },
  "playerStatus": {
    "steve": {
      "workstations": {
        "gunsmith": 1,
        "gearBench": 1,
        "medicalLab": 1,
        "explosives": 1,
        "utility": 1,
        "refiner": 1,
        "scrappy": 3
      }
    },
    "alf": {
      "workstations": {
        "gunsmith": 1,
        "gearBench": 1,
        "medicalLab": 1,
        "explosives": 1,
        "utility": 1,
        "refiner": 1,
        "scrappy": 1
      }
    },
    "indie": {
      "workstations": {
        "gunsmith": 1,
        "gearBench": 1,
        "medicalLab": 1,
        "explosives": 1,
        "utility": 1,
        "refiner": 1,
        "scrappy": 1
      }
    }
  }
}
    </script>

    <script>
        let gameData = null;
        let currentPlayer = null;

        // Load game data from embedded JSON
        try {
            const dataScript = document.getElementById('game-data');
            gameData = JSON.parse(dataScript.textContent);
            initializeApp();
        } catch (error) {
            console.error('Error loading game data:', error);
            alert('Failed to load game data. Please refresh the page.');
        }

        function initializeApp() {
            // Set up player selection
            const playerBtns = document.querySelectorAll('.player-btn');
            playerBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const player = btn.dataset.player;
                    selectPlayer(player);
                });
            });

            // Load saved player from localStorage or default to Steve
            const savedPlayer = localStorage.getItem('arcRaidersPlayer') || 'steve';
            selectPlayer(savedPlayer);
        }

        function selectPlayer(player) {
            currentPlayer = player;
            localStorage.setItem('arcRaidersPlayer', player);

            // Update button states
            document.querySelectorAll('.player-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.player === player);
            });

            // Render workstations
            renderWorkstations();
        }

        function renderWorkstations() {
            if (!gameData || !currentPlayer) return;

            const playerData = gameData.playerStatus[currentPlayer];
            const workstationsContainer = document.getElementById('workstations');
            const priorityMessage = document.getElementById('priority-message');

            // Check if Refiner needs upgrade
            const refinerLevel = playerData.workstations.refiner;
            if (refinerLevel < 2) {
                priorityMessage.innerHTML = `
                    <div class="priority-banner">
                        <h2>üîë PRIORITY: Upgrade Refiner to Level 2 First!</h2>
                        <p><strong>Why critical:</strong> Refiner Lv2 unlocks crafting for Advanced Mechanical Components, Advanced Electrical Components, Antiseptic, and ARC Circuitry - materials needed for ALL Level 3 workstation upgrades.</p>
                        <p><strong>Impact:</strong> Stop farming Advanced materials - craft them instead! This is the most important upgrade in the game.</p>
                    </div>
                `;
            } else {
                priorityMessage.innerHTML = '';
            }

            let html = '<div class="workstation-grid">';

            // Render each workstation
            for (const [key, station] of Object.entries(gameData.workstations)) {
                const currentLevel = playerData.workstations[key];
                const maxLevel = station.levels[station.levels.length - 1].level;
                const isMaxed = currentLevel >= maxLevel;
                const isKeystone = station.keystone || false;

                html += `
                    <div class="workstation-card ${isKeystone ? 'keystone' : ''} ${isMaxed ? 'max-level' : ''}">
                        <div class="workstation-header">
                            <div class="workstation-title">
                                ${station.name}
                                ${isKeystone ? '<span class="keystone-badge">üîë KEYSTONE</span>' : ''}
                            </div>
                            <div class="level-indicator">Lv ${currentLevel}</div>
                        </div>
                `;

                if (isMaxed) {
                    html += '<div class="max-level-badge">‚úÖ MAX LEVEL ACHIEVED</div>';
                } else {
                    // Find next upgrade
                    const nextLevel = station.levels.find(l => l.level === currentLevel + 1);
                    if (nextLevel) {
                        html += renderUpgrade(nextLevel, station.name, key);
                    }
                }

                html += '</div>';
            }

            html += '</div>';
            workstationsContainer.innerHTML = html;
        }

        function renderUpgrade(level, stationName, stationKey) {
            let html = `
                <div class="next-upgrade">
                    <h4>Next: Level ${level.level}${level.name ? ` (${level.name})` : ''}</h4>
                    <ul class="requirements-list">
            `;

            // Render each requirement
            for (const req of level.requirements) {
                const typeClass = req.type;
                const icon = getTypeIcon(req.type);

                html += `
                    <li class="requirement-item ${typeClass}">
                        <div class="item-icon">${icon}</div>
                        <div class="item-details">
                            <div>
                                <span class="item-name">${req.item}</span>
                                <span class="item-quantity">√ó${req.quantity}</span>
                                <span class="type-badge ${typeClass}">${req.type.toUpperCase()}</span>
                            </div>
                            ${renderSource(req)}
                            ${renderCrossReference(req.item)}
                            ${req.note ? `<div class="item-source" style="color: #ff9800;">‚ö†Ô∏è ${req.note}</div>` : ''}
                        </div>
                    </li>
                `;
            }

            html += '</ul>';

            // Render unlocks
            if (level.unlocks && level.unlocks.length > 0) {
                html += `
                    <div class="unlocks-section">
                        <h5>üéÅ Unlocks:</h5>
                        <ul class="unlocks-list">
                            ${level.unlocks.map(u => `<li class="unlock-item">${u}</li>`).join('')}
                        </ul>
                    </div>
                `;
            }

            html += '</div>';
            return html;
        }

        function renderSource(req) {
            if (req.type === 'farm' && req.source) {
                return `<div class="item-source">üìç ${req.source}</div>`;
            } else if (req.type === 'craft' && req.craftAt) {
                return `<div class="item-source">üîß Craft at ${req.craftAt}</div>`;
            } else if (req.type === 'buy' && req.seedCost) {
                return `<div class="item-source">üí∞ Buy from Celeste (${req.seedCost} seeds)</div>`;
            }
            return '';
        }

        function renderCrossReference(itemName) {
            if (!gameData.crossReferences || !gameData.crossReferences.multipleUse) return '';

            const crossRef = gameData.crossReferences.multipleUse.find(cr => cr.material === itemName);
            if (!crossRef) return '';

            const isDanger = crossRef.totalNeeded >= 10;

            return `
                <div class="warning-banner ${isDanger ? 'danger' : ''}">
                    <div class="cross-ref-warning">
                        <strong>‚ö†Ô∏è CROSS-REFERENCE:</strong> This material is also needed for
                        ${crossRef.usedBy.join(', ')}.
                        <strong>Total needed: ${crossRef.totalNeeded}</strong>
                        ${crossRef.canCraft ? ` - Can craft at ${crossRef.craftAt}` : ' - CANNOT CRAFT, must farm!'}
                    </div>
                </div>
            `;
        }

        function getTypeIcon(type) {
            switch(type) {
                case 'farm': return 'üåæ';
                case 'craft': return '‚úÖ';
                case 'buy': return 'üí∞';
                default: return '‚ùì';
            }
        }
    </script>
</body>
</html>
